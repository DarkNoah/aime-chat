---
sidebar_position: 4
---

# Agent 管理

AIME Chat 基于 Mastra 框架构建了强大的 AI Agent 系统，支持自定义和管理多个 Agent。

## 什么是 Agent？

Agent 是具有特定能力和行为的 AI 助手。每个 Agent 可以有：

- 独特的系统指令
- 预配置的工具集
- 特定的使用场景

## 内置 Agent

### 默认 Agent

通用对话助手，适合日常使用：

- ✅ 多轮对话
- ✅ 知识问答
- ✅ 任务协助

### 代码 Agent

专注于代码开发的助手：

- ✅ 代码编写和审查
- ✅ 调试和问题排查
- ✅ 文件操作
- ✅ 命令执行

## 切换 Agent

在聊天页面：

1. 点击顶部的 Agent 选择器
2. 从列表中选择 Agent
3. 新的对话将使用选中的 Agent

:::tip 提示
不同 Agent 有不同的工具权限，选择合适的 Agent 可以获得更好的体验。
:::

## 自定义 Agent

### 创建新 Agent

1. 进入 **Agent 管理** 页面
2. 点击 **创建 Agent**
3. 填写 Agent 信息：
   - **名称**：Agent 的显示名称
   - **描述**：Agent 的功能描述
   - **指令**：系统提示词，定义 Agent 的行为
   - **工具**：选择 Agent 可用的工具

### 编写系统指令

系统指令是 Agent 的核心，决定了它的行为方式：

```markdown
# 角色定义
你是一个专业的技术文档编写助手。

## 能力
- 撰写清晰的技术文档
- 解释复杂的技术概念
- 提供代码示例

## 行为准则
- 使用简洁明了的语言
- 提供实用的示例
- 保持内容的准确性
```

### 指令编写技巧

1. **明确角色**：清楚定义 Agent 是什么
2. **列出能力**：说明 Agent 能做什么
3. **设定边界**：指明不应该做什么
4. **提供示例**：给出期望的输出格式

## 工具配置

### 为 Agent 选择工具

不同 Agent 可能需要不同的工具组合：

| Agent 类型 | 推荐工具 |
|------------|----------|
| 通用助手 | Web Search、Vision |
| 代码助手 | Read、Write、Edit、Bash、Python |
| 数据分析 | Python、LibSQL |
| 研究助手 | Web Search、Web Fetch |

### 工具权限

- 内置 Agent 的工具由系统预配置
- 自定义 Agent 可以自由选择工具
- 可以随时调整工具配置

## Agent 架构

```
┌──────────────────────────────────────┐
│            AIME Chat                 │
├──────────────────────────────────────┤
│         Mastra Framework             │
├──────────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐          │
│  │ Default  │  │  Code    │  ...     │
│  │  Agent   │  │  Agent   │          │
│  └──────────┘  └──────────┘          │
├──────────────────────────────────────┤
│         Tool System                  │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐    │
│  │Read │ │Write│ │Bash │ │ ... │    │
│  └─────┘ └─────┘ └─────┘ └─────┘    │
├──────────────────────────────────────┤
│         AI Providers                 │
│  OpenAI | DeepSeek | Ollama | ...    │
└──────────────────────────────────────┘
```

## 高级功能

### Agent 记忆

Agent 支持多种记忆模式：

- **会话记忆**：记住当前对话上下文
- **语义记忆**：基于向量的长期记忆
- **工作记忆**：任务执行中的临时状态

### Agent 链

可以让多个 Agent 协作完成复杂任务：

1. Agent A 分析需求
2. Agent B 执行实现
3. Agent C 审查结果

## 最佳实践

### 指令设计

- ✅ 保持指令简洁清晰
- ✅ 使用结构化格式
- ✅ 包含具体示例
- ❌ 避免过于复杂的指令
- ❌ 不要包含矛盾的要求

### 工具选择

- ✅ 只启用必要的工具
- ✅ 根据场景选择工具
- ❌ 避免给 Agent 过多权限

## 常见问题

### Agent 不按预期工作

1. 检查系统指令是否清晰
2. 确认工具配置正确
3. 尝试调整指令措辞

### 工具调用失败

1. 确认工具已启用
2. 检查工具依赖
3. 查看错误日志

### 如何导出/导入 Agent

目前支持通过 Agent 管理页面进行：
- 导出：将 Agent 配置导出为 JSON
- 导入：从 JSON 文件导入 Agent 配置















